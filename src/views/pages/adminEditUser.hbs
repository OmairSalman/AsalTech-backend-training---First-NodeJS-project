<div class="edit-profile-card">
  <h1>Edit User (Admin)</h1>
  <form id="admin-edit-user-form" method="POST" action="/admin/users/{{user._id}}/edit" autocomplete="off" data-userid="{{user._id}}">
    <!-- Avatar and Gravatar link -->
    <div class="form-group d-flex align-items-center mb-3">
      <img 
        src="{{user.avatarURL}}" 
        alt="{{user.name}}'s avatar" 
        class="edit-avatar-img me-2"
        style="width: 64px; height: 64px; border-radius: 50%;">
        <span class="fw-semibold">{{user.name}}</span>
    </div>

    <!-- Email -->
    <div class="form-group mb-3">
      <label for="edit-email">Email</label>
      <input type="email" id="edit-email" name="email" value="{{user.email}}" class="form-control" required>
      <small id="email-msg" class="form-text text-muted">
        Changing the email will update the user's avatar to the <a href="https://gravatar.com" target="_blank">Gravatar</a> for the new email, or a random image if not set.
      </small>
    </div>

    <!-- New Password -->
    <div class="form-group mb-3">
      <label for="new-password">New Password</label>
      <input type="password" id="new-password" name="newPassword" class="form-control">
    </div>
    <div class="form-group mb-3">
      <label for="confirm-password">Confirm New Password</label>
      <input type="password" id="confirm-password" name="confirmPassword" class="form-control">
      <small id="password-warning" class="form-text text-danger"></small>
    </div>

    <button type="submit" class="btn btn-primary mt-2">Save Changes</button>
    <a href="/admin/users" class="btn btn-link mt-2">Cancel</a>
  </form>
</div>

<script src="/js/admin-edit-user.js"></script>